{"version":3,"sources":["src/core/router.ts","src/core/view.ts","src/core/api.ts","src/config.ts","src/page/news-detail-view.ts","src/page/news-feed-view.ts","src/page/index.ts","src/store.ts","src/app.ts"],"names":[],"mappings":";;;;;;AGAa,OAAA,CAAA,QAAA,GAAW,sCAAX;AACA,OAAA,CAAA,WAAA,GAAc,wCAAd;;;;;AKDb,IAAA,APA8B,AMET,QCFrB,GAAA,eAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;AFAA,ELME,AMEA,EDRF,YLMc,GMEZ,GDRF,GAAA,ELME,EAAiC,GKNnC,CAAA,ILME,EAAiD,cKNnD,CAAA;AECA,IAAA,APKmD,AMEjD,MCPF,GAAA,OAAA,CAAA,QAAA,CAAA;AFDS,MAAA,CAAA,cAAA,CAAA,OAAA,EAAA,gBAAA,EAAA;AEET,EFFS,EEET,APKI,AMEA,INFM,CMED,ECPT,CFFS,EEET,AFFS,ACSL,GAAa,CDTR,CCSL,KNFsB,GAAG,EOL7B,CAAA,KPKqC,CAAC,COLtC,CAAA,SAAA,CAAA,CAAA,CPK6B,CAAwB,WAAxB,CAAzB;EKPK,ECUL,CDVK,EAAA,ECUA,YAAL,CDVK,ECUe,CAApB;ACNJ,IAAM,ARDe,ACMjB,AKTK,ACWL,INFI,COLG,APKF,AMEA,EDXA,CEIK,GDOV,CCPc,EDOA,CAAd,ICPc,CAAA,CPKd,CKTK,CLSkB,AKTlB,IEIK,EAAd,YFJS,CAAA,CAAA,OAAA;AEMT,EREE,AMRc,EEMV,ADMF,ENFE,GMEG,CCNG,EPIA,COJW,GDMnB,CCNuB,EDMR,CPJjB,COIE,ICNuB,CAAA,OAAJ,EAAvB,MPIM;AOHN,AFPS,CAAA,CCaN,ECNG,ARCJ,ACGG,YOJa,GAAG,IAAI,MAAA,CAAA,YAAJ,CAAiB,MAAjB,EAAyB,KAAzB,CAArB;AACA,IAAM,cAAc,GAAG,IAAI,MAAA,CAAA,cAAJ,CAAmB,MAAnB,EAA2B,KAA3B,CAAvB;AAEA,AFTA,INOE,ACKE,AKZJ,EESM,CAAC,EPGE,SAAL,EKZJ,CESA,APGqB,COHC,CFTtB,OAAA,CAAA,GESA,GPGI,YKZJ,CAAA;AEWA,IPEI,EOFE,CAAC,EPEE,QAAL,EOFJ,CAAoB,APEA,QOFpB,APEI,EOF0B,YAA9B,EAA4C,aAA5C;AACA,AFZS,INeP,ACDE,EOFE,AFZG,CEYF,AFZE,ENeP,ACDO,AMAP,EPCA,GAAK,KQHP,CAAoB,CFZX,CAAA,CLcL,CMAa,EPCC,ACDQ,EOF1B,CFZS,CEYqB,CFZrB,GLcL,UOFJ,CFZS,CEYqC,CFZrC,YEYT;AAEA,EFdS,ELeL,EODE,AREF,AODA,CCDG,EAAP,APCS,EDCD,CAAC,AMhBA,CCeE,CDfF,GNgBL,ACDA,CKfK,ACeO,ENAI,EAAhB,QMAA;ENCD,AKhBM,ENiBN,AODA,CPDD,AMfO,EAAA,eAAA;IAAA,KCkBP,EDlBO,WCkBS,IDlBT,ACkBP,CDlBO,CCkBqB,eDlBrB,CAAA,CAAA,OAAA;EAAO,ENQZ,EOWA,IPXM,CAAC,AOWF,YAAL,GAAoB,CPXpB,CAAwB,EOWxB,UPXA,EAAsC,KAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB,CAAtC;AMRK,CAAA,GNUL,AOUD,KPVM,OAAL,GAAe,KAAf;IACA,KAAK,ECOG,QDPR,GAAkB,EAAlB,SCOkB;IDNlB,ECOA,GDPK,ECOA,SAAL,CDPA,ACOe,GDPK,IAApB,ECOA,GAA2B,KAAK,cAAhC;EDND,ICOC,GMEF,ENFO,aMEK,CNFV,GAAsB,KAAK,QAA3B;IACD,EMEC,OAAO,KAAK,WAAL,GAAmB,KAAK,KAAxB,GAAgC,KAAK,WAAL,GAAmB,CAAnD,GAAuD,KAAK,KAAnE;IACD;;WPLD,ACIU,iBAAQ,ODJH,GCIL,CDJV,CCIoC,CDJmB;MAAA,ACKrD,GMEF,CPP2B,CCKpB,KDLgD,GCKrD,CAAc,IAAd,AMEU,CNFS,UAAnB,oDDLiD,IAAI;ICMtD,EDLC,AOOA,KPPK,EOOE,KAAK,KPPZ,GAAoB,IOOb,GAAoB,CAApB,GAAwB,KAAK,YAAL,GAAoB,CAA5C,GAAgD,CAAvD;IACD,IPRuB,IAAI,EAAE,EAAR;QAAY,IAAI,EAAJ,IAAZ;QAAkB,GCO9B,GDPoC,EAAN,cCOvB;MDPK,ACQpB,CDRA,EOUF,CNFQ,QAAQ,GAAG,GMEV,ENFe,QAAL,CAAc,IAAd,CAAmB,EAAnB,CAAjB;IDPD,ECQC,AMEA,KNFK,EMEE,KAAK,MNFZ,AMEA;IACD,ENFC,OAAO,QAAP;IACD,KMGD,aAAU,GAAV,EAAqB;MACnB,KPZF,AOYO,MAAL,GAAc,GAAd,UPZW,IAAb,EAA2B,IAA3B,EAAmE;IOalE,EPbkE,IAA5B,MAA4B,uEAAJ,IAAI;MACjE,KAAK,ACSG,UDTR,CAAgB,IAAhB,CAAqB,SCSG,GAAhB,EAA6B,KAA7B,EAA0C;MAClD,EDVuB,GCUlB,CDVsB,EAAJ,IAAF,OCUrB,GAAsB,KAAK,cAAL,CAAoB,OAApB,eAAmC,GAAnC,WAA8C,KAA9C,CAAtB;IACD,IDX8B,COc/B,GPdmC,EAAJ,IAAR,MOcb;MACR,EPfmC,KOe5B,CPfkC,EAAN,EOevB,OAAZ;IACD,EPhBsB,CAArB;SOkBF,ENLQ,WMKG,KAAX,EAAwB,ONLH;MDXnB,ACYA,AMKA,IPjBI,CAAC,ACYA,AMKA,KPjBK,EOiBV,CNLA,EMKe,CNLC,CDZhB,CCYA,CDZmB,COiBnB;INJD,AMKA,IPjBG,KAAK,OAAL,GAAe,IAAf,CADiB,CAEjB;;QACA,UAAU,CAAC,KAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB,CAAD,EAAwB,CAAxB,CAAV;MACD,GOgBH,eAAgB;IPff,EOgBC,OAAO,KAAK,KAAL,CAAW,MAAlB;IACD;ANjDH,OAAA,CAAA,OAAA,GAAA,IAAA;WDkCU,iBAAK;IEhCF,EFiCT,GOgBF,CPhBQ,SAAS,GAAW,EOgBhB,MPhBwB,CAAC,IAAnC,CADW,CAC8B;EE7B3C,IK8CE,OAAO,EL9CG,GAAZ,AK8Cc,EL9CS,GK8Cd,CAAW,MAAX,GAAoB,CAA3B;IL9CqB,AK+CtB,EPhBC,IAAI,SAAS,KAAK,EAAd,IAAoB,KAAK,YAA7B,EAA2C;QACzC,KAAK,YAAL,CAAkB,IAAlB,CAAuB,MAAvB;IE/BF,IFgCE,CEhCG,GAAL,GAAW,IAAI,cAAJ,EAAX;AEPJ,ACAA,IHQI,AERJ,ACAA,ELwCK,GEhCI,CERT,ACAA,CEuDE,CL/CE,CERJ,ACAA,EHQe,GAAX,UERJ,ACAA,CDAA,ACAA,KEuDa,EHvDb,ACAA,CDAA,ACAA,cDAA,ACAA,CDAA,ACAA,CDAA,ACAA;EHSG,IK+CC,OAAO,KAAK,KAAZ;AHvDJ,ACAA,IDAA,ACAA,AEwDG,EPvBY,GIjCf,ACAA,GDAA,ACAA,ODAA,ACAA,CDAA,ACAA,aDAA,ACAA,CDAA,ACAA,eLyC4B,KAAK,UARlB;MAAA;AIhCf,ACAA,IDAA,ACAA,QDAA,ACAA,GDAA,ACAA,ODAA,ACAA,CDAA,ACAA,WDAA,ACAA,CDAA,ACAA;MLgCe,KEvBP,AKgDN,mBLhDa,UKgDI;AHtDnB,ACAA,IDAM,ACAA,EEuDF,EPlBA,IIrCU,ACAA,CEuDH,KAAK,KAAL,CAAW,MAAlB,8BPlByC,2sBKrC7C,iCDAA;IGwDG,MPnB0C,IAA9B,SAA8B;IIRxB,ACJA;ULaf,IAAI,SAAS,CAAC,OAAV,CAAkB,SAAS,CAAC,IAA5B,KAAqC,CAAzC,EAA4C;WOoBhD,CPnBM,IAAI,SAAS,CAAC,EOmBZ,IPnBF,EAAsB,EOmB5B,EAAwB;MACtB,OAAO,CPnBD,IAAM,AOmBA,KAAL,CAAW,MPnBM,EOmBjB,CPnBoB,AOmB3B,SPnBoC,CAAC,KAAV,CAAgB,SAAS,CAAC,MAA1B,CAArB;IOoBP;EH5BD,ACHA,YLaQ,EEnCW,EFmCP,KEnCa,CGsBb,EDGA,EFzBkB,CAAC,CFmCvB,EAAkB,EEnCU,CGsBpC,EHtB8B,AEyB9B,ACHiC,CHtBd,CEyBc,GCHjC,EDGA,ACHiD,EDGA;IAAA,ACHA,YLcvC,SAAS,CAAC,IAAV,CAAe,MAAf,CAAsB,KAAtB,CAA4B,IAA5B,EAAkC,CAAC,YAAY,CAAC,CAAD,CAAb,CAAlC;WOmBV,GPlBS,eOkBA,KAAT,EAA0B;IH9BuB,ACHA,EEkC/C,KAAK,CPlBA,CAND,GEhCE,AKwDN,GPlBW,AOkBE,KAAK,CAAC,GAAN,CAAU,UAAC,IAAD;QAAA,MPjBjB,COiB2B,MAAA,CAAA,CPjBlB,CAAC,IAAV,AOiB2B,CPjBZ,AOiBY,MPjB3B,AOiB2B,CAAA,MAAA,CAAA,EAAA,EAC5B,IAD4B,CAAA,EACxB;IH/BT,ACHA,MEmCE,EPlBG,EOkBC,ELzDE,AKyDA,OLzDM,OEyBR,ACHA,CHtBgB,CAAC,IAAT,EAAN,GEyBR,ACHA,EDGmB,ACHA,QDGnB,ACHA;QEkCS,CADwB,CAAV;IH1BzB,ACAA,EE0ByB,CAAV,CAAb,EH1BF,ACAA,ELWM,IIXN,ACAA,GDAS,ACAA,UDAO,EA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","file":"app.5cec07dd.js","sourceRoot":"..","sourcesContent":["import { RouteInfo } from \"../types\";\nimport View from \"./view\";\n\nexport default class Router {\n  private isStart: boolean;\n  private routeTable: RouteInfo[];\n  private defaultRoute: RouteInfo | null;\n\n  constructor() {\n    window.addEventListener(\"hashchange\", this.route.bind(this));\n\n    this.isStart = false;\n    this.routeTable = [];\n    this.defaultRoute = null;\n  }\n\n  go = (): void => {\n    this.route();\n  };\n\n  setDefaultPage(page: View, params: RegExp | null = null): void {\n    this.defaultRoute = { path: \"\", page, params };\n  }\n\n  addRoutePath(path: string, page: View, params: RegExp | null = null): void {\n    this.routeTable.push({ path, page, params });\n\n    if (!this.isStart) {\n      this.isStart = true;\n      // Execute next tick\n      setTimeout(this.route.bind(this), 0);\n    }\n  }\n\n  private route() {\n    const routePath: string = location.hash; // location.hash 에 '#'만 있을 경우, 빈 값('')을 반환함.\n\n    if (routePath === \"\" && this.defaultRoute) {\n      this.defaultRoute.page.render();\n      return;\n    }\n\n    for (const routeInfo of this.routeTable) {\n      if (routePath.indexOf(routeInfo.path) >= 0) {\n        if (routeInfo.params) {\n          const parserParams = routePath.match(routeInfo.params);\n\n          if (parserParams) {\n            routeInfo.page.render.apply(null, [parserParams[1]]);\n          }\n        } else {\n          routeInfo.page.render();\n        }\n        return;\n      }\n    }\n  }\n}\n","export default abstract class View {\n  private template: string;\n  private renderTemplate: string;\n  private container: HTMLElement;\n  private htmlList: string[];\n\n  constructor(containerId: string, template: string) {\n    const containerElement = document.getElementById(containerId);\n\n    if (!containerElement) {\n      throw \"최상위 컴포넌트가 없어 UI를 진행하지 못합니다.\";\n    }\n\n    this.container = containerElement;\n    this.template = template;\n    this.renderTemplate = template;\n    this.htmlList = [];\n  }\n\n  protected updateView(): void {\n    this.container.innerHTML = this.renderTemplate;\n    this.renderTemplate = this.template;\n  }\n\n  protected addHtml(htmlString: string): void {\n    this.htmlList.push(htmlString);\n  }\n\n  protected getHtml(): string {\n    const snapshot = this.htmlList.join(\"\");\n    this.clearHtmlList();\n    return snapshot;\n  }\n\n  protected setTemplateData(key: string, value: string): void {\n    this.renderTemplate = this.renderTemplate.replace(`{{__${key}__}}`, value);\n  }\n\n  private clearHtmlList(): void {\n    this.htmlList = [];\n  }\n\n  abstract render(...params: string[]): void;\n}\n","import { NewsFeed, NewsDetail } from \"../types\";\n\nexport class Api {\n  xhr: XMLHttpRequest;\n  url: string;\n\n  constructor(url: string) {\n    this.xhr = new XMLHttpRequest();\n    this.url = url;\n  }\n\n  async request<AjaxResponse>(): Promise<AjaxResponse> {\n    const response = await fetch(this.url);\n    return (await response.json()) as AjaxResponse;\n  }\n}\n\nexport class NewsFeedApi extends Api {\n  constructor(url: string) {\n    super(url);\n  }\n\n  async getData(): Promise<NewsFeed[]> {\n    return this.request<NewsFeed[]>();\n  }\n}\n\nexport class NewsDetailApi extends Api {\n  constructor(url: string) {\n    super(url);\n  }\n\n  async getData(): Promise<NewsDetail> {\n    return this.request<NewsDetail>();\n  }\n}\n","export const NEWS_URL = \"https://api.hnpwa.com/v0/news/1.json\";\nexport const CONTENT_URL = \"https://api.hnpwa.com/v0/item/@id.json\";\n","import View from \"../core/view\";\nimport { NewsDetailApi } from \"../core/api\";\nimport { CONTENT_URL } from \"../config\";\nimport { NewsDetail, NewsComment, NewsStore } from \"../types\";\n\nconst template: string = `\n  <div class=\"bg-gray-600 min-h-screen pb-8\">\n    <div class=\"bg-white text-xl\">\n      <div class=\"mx-auto px-4\">\n        <div class=\"flex justify-between items-center py-6\">\n          <div class=\"flex justify-start\">\n            <h1 class=\"font-extrabold\">Hacker News</h1>\n          </div>\n          <div class=\"items-center justify-end\">\n            <a href=\"#/page/{{__currentPage__}}\" class=\"text-gray-500\">\n              <i class=\"fa fa-times\"></i>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"h-full border rounded-xl bg-white m-6 p-4 \">\n      <h2>{{__title__}}</h2>\n      <div class=\"text-gray-400 h-20\">\n        {{__content__}}\n      </div>\n\n      {{__comments__}}\n\n    </div>\n  </div>\n`;\n\nexport default class NewsDetailView extends View {\n  private store: NewsStore;\n\n  constructor(containerId: string, store: NewsStore) {\n    super(containerId, template);\n    this.store = store;\n  }\n\n  render = async (id: string): Promise<void> => {\n    const api = new NewsDetailApi(CONTENT_URL.replace(\"@id\", id));\n    const { comments, title, content }: NewsDetail = await api.request();\n\n    this.store.makeRead(Number(id));\n    this.setTemplateData(\"comments\", this.makeComment(comments));\n    this.setTemplateData(\"currentPage\", String(this.store.currentPage));\n    this.setTemplateData(\"title\", title);\n    this.setTemplateData(\"content\", content);\n\n    this.updateView();\n  };\n\n  private makeComment(comments: NewsComment[]): string {\n    for (let i = 0; i < comments.length; i++) {\n      const comment: NewsComment = comments[i];\n\n      this.addHtml(`\n        <div style=\"padding-left: ${comment.level * 40}px;\" class=\"mt-4\">\n          <div class=\"text-gray-400\">\n            <i class=\"fa fa-sort-up mr-2\"></i>\n            <strong>${comment.user}</strong> ${comment.time_ago}\n          </div>\n          <p class=\"text-gray-700\">${comment.content}</p>\n        </div>      \n      `);\n\n      if (comment.comments.length > 0) {\n        this.addHtml(this.makeComment(comment.comments));\n      }\n    }\n\n    return this.getHtml();\n  }\n}\n","import View from \"../core/view\";\nimport { NewsFeedApi } from \"../core/api\";\nimport { NEWS_URL } from \"../config\";\nimport { NewsFeed, NewsStore } from \"../types\";\n\nconst template: string = `\n  <div class=\"bg-gray-600 min-h-screen\">\n    <div class=\"bg-white text-xl\">\n      <div class=\"mx-auto px-4\">\n        <div class=\"flex justify-between items-center py-6\">\n          <div class=\"flex justify-start\">\n            <h1 class=\"font-extrabold\">Hacker News</h1>\n          </div>\n          <div class=\"items-center justify-end\">\n            <a href=\"#/page/{{__prev_page__}}\" class=\"text-gray-500\">\n              Previous\n            </a>\n            <a href=\"#/page/{{__next_page__}}\" class=\"text-gray-500 ml-4\">\n              Next\n            </a>\n          </div>\n        </div> \n      </div>\n    </div>\n    <div class=\"p-4 text-2xl text-gray-700\">\n      {{__news_feed__}}        \n    </div>\n  </div>\n`;\n\nexport default class NewsFeedView extends View {\n  private api: NewsFeedApi;\n  private store: NewsStore;\n\n  constructor(containerId: string, store: NewsStore) {\n    super(containerId, template);\n\n    this.store = store;\n    this.api = new NewsFeedApi(NEWS_URL);\n    // this.feeds = window.store.feeds;\n  }\n\n  render = async (page: string = \"1\"): Promise<void> => {\n    if (!this.store.hasFeeds) {\n      this.store.setFeeds(await this.api.getData());\n    }\n    this.store.currentPage = Number(page);\n    this.store.limit = Math.ceil(\n      this.store.getAllFeedsLength() / this.store.offset\n    );\n\n    for (\n      let i = (this.store.currentPage - 1) * this.store.offset;\n      i < this.store.currentPage * this.store.offset;\n      i++\n    ) {\n      const { id, title, comments_count, user, points, time_ago, read } =\n        this.store.getFeed(i);\n      this.addHtml(`\n      <div class=\"p-6 ${\n        read ? \"bg-red-500\" : \"bg-white\"\n      } mt-6 rounded-lg shadow-md transition-colors duration-500 hover:bg-green-100\">\n        <div class=\"flex\">\n          <div class=\"flex-auto\">\n            <a href=\"#/show/${id}\">${title}</a>  \n          </div>\n          <div class=\"text-center text-sm\">\n            <div class=\"w-10 text-white bg-green-300 rounded-lg px-0 py-2\">${comments_count}</div>\n          </div>\n        </div>\n        <div class=\"flex mt-3\">\n          <div class=\"grid grid-cols-3 text-sm text-gray-500\">\n            <div><i class=\"fas fa-user mr-1\"></i>${user}</div>\n            <div><i class=\"fas fa-heart mr-1\"></i>${points}</div>\n            <div><i class=\"far fa-clock mr-1\"></i>${time_ago}</div>\n          </div>  \n        </div>\n      </div>    \n    `);\n    }\n\n    this.setTemplateData(\"news_feed\", this.getHtml());\n    this.setTemplateData(\"prev_page\", String(this.store.prevPage));\n    this.setTemplateData(\"next_page\", String(this.store.nextPage));\n\n    this.updateView();\n  };\n}\n","export { default as NewsDetailView } from \"./news-detail-view\";\nexport { default as NewsFeedView } from \"./news-feed-view\";\n","import { NewsFeed, NewsStore } from \"./types/index\";\n\nexport default class Store implements NewsStore {\n  private feeds: NewsFeed[];\n  private _currentPage: number;\n  private _limit: number;\n  private _offset: number;\n\n  constructor() {\n    this.feeds = [];\n    this._currentPage = 1;\n    this._limit = 1;\n    this._offset = 10;\n  }\n\n  get currentPage() {\n    return this._currentPage;\n  }\n\n  set currentPage(page: number) {\n    this._currentPage = page;\n  }\n\n  get nextPage(): number {\n    return this.currentPage < this.limit ? this.currentPage + 1 : this.limit;\n  }\n\n  get prevPage(): number {\n    return this._currentPage > 1 ? this._currentPage - 1 : 1;\n  }\n\n  get limit(): number {\n    return this._limit;\n  }\n\n  set limit(max: number) {\n    this._limit = max;\n  }\n\n  get offset(): number {\n    return this._offset;\n  }\n\n  set offset(value: number) {\n    this._offset = value;\n  }\n\n  get numberOfFeed(): number {\n    return this.feeds.length;\n  }\n\n  get hasFeeds(): boolean {\n    return this.feeds.length > 0;\n  }\n\n  getAllFeeds(): NewsFeed[] {\n    return this.feeds;\n  }\n\n  getAllFeedsLength(): number {\n    return this.feeds.length;\n  }\n\n  getFeed(position: number): NewsFeed {\n    return this.feeds[position];\n  }\n\n  setFeeds(feeds: NewsFeed[]): void {\n    this.feeds = feeds.map((feed) => ({\n      ...feed,\n      read: false,\n    }));\n  }\n\n  makeRead(id: number): void {\n    const feed = this.feeds.find((feed: NewsFeed) => feed.id === id);\n\n    if (feed) {\n      feed.read = true;\n    }\n  }\n}\n","import Router from \"./core/router\";\nimport { NewsFeedView, NewsDetailView } from \"./page\";\nimport Store from \"./store\";\n\nconst store = new Store();\n\nconst router: Router = new Router();\nconst newsFeedView = new NewsFeedView(\"root\", store);\nconst newsDetailView = new NewsDetailView(\"root\", store);\n\nrouter.setDefaultPage(newsFeedView);\n\nrouter.addRoutePath(\"/page/\", newsFeedView, /page\\/(\\d+)/);\nrouter.addRoutePath(\"/show/\", newsDetailView, /show\\/(\\d+)/);\n\nrouter.go();\n"]}